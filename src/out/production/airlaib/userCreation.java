package out.production.airlaib;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
import java.util.logging.Level;
import java.util.logging.Logger;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

import javax.swing.JFrame;
import javax.swing.JOptionPane;
import javax.swing.GroupLayout.Alignment;
import javax.swing.GroupLayout;
import javax.swing.LayoutStyle.ComponentPlacement;

import java.awt.Font;
import java.awt.event.ActionEvent;

import javax.swing.JLabel;
import javax.swing.JPanel;
import java.awt.Color;
import javax.swing.ImageIcon;

/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */

/**
 * This class represents the user creation interface in a Swing application.
 * It allows administrators to create new user accounts.
 *
 * The class includes functionality for validating user input and inserting
 * user details into a MySQL database.
 *
 * @author laiba atiq
 * @version 1.0
 * @since 2022-06-12
 */
public class userCreation extends javax.swing.JFrame {

        /**
         * Creates new form userCreation
         */
        public userCreation() {
                initComponents();
                autoID();
                setExtendedState(JFrame.MAXIMIZED_BOTH);
        }

        Connection con;
        PreparedStatement pst;

        /**
         * This method is called from within the constructor to initialize the form.
         * WARNING: Do NOT modify this code. The content of this method is always
         * regenerated by the Form Editor.
         */
        @SuppressWarnings("unchecked")
        // <editor-fold defaultstate="collapsed" desc="Generated
        // Code">//GEN-BEGIN:initComponents
        private void initComponents() {

                panel1 = new javax.swing.JPanel();
                userIdLabel = new javax.swing.JLabel();
                firstNameLabel = new javax.swing.JLabel();
                LastNameLabel = new javax.swing.JLabel();
                userNameLabel = new javax.swing.JLabel();
                paswordLabel = new javax.swing.JLabel();
                setTxtuserid(new javax.swing.JLabel());
                setTxtfirstname(new javax.swing.JTextField());
                setTxtlastname(new javax.swing.JTextField());
                setTxtusername(new javax.swing.JTextField());
                setAddBtn(new javax.swing.JButton());
                backBtn = new javax.swing.JButton();
                setTxtpassword(new javax.swing.JPasswordField());
                panel2 = new javax.swing.JPanel();
                registerAdminLabel = new javax.swing.JLabel();
                warningFirstName = new javax.swing.JLabel();
                warningLastName = new javax.swing.JLabel();

                setTitle("Registration");
                setBackground(new java.awt.Color(242, 226, 135));
                // setBorder(new
                // javax.swing.border.SoftBevelBorder(javax.swing.border.BevelBorder.RAISED));

                panel1.setBackground(new java.awt.Color(162, 201, 201));
                // jPanel1.setBorder(javax.swing.BorderFactory.createTitledBorder("REGISTRATION"));

                userIdLabel.setFont(new Font("Tahoma", Font.BOLD, 24)); // NOI18N
                userIdLabel.setText("User ID");

                firstNameLabel.setFont(new Font("Tahoma", Font.BOLD, 20)); // NOI18N
                firstNameLabel.setText("FirstName");

                LastNameLabel.setFont(new Font("Tahoma", Font.BOLD, 20)); // NOI18N
                LastNameLabel.setText("LastName");

                userNameLabel.setFont(new Font("Tahoma", Font.BOLD, 20)); // NOI18N
                userNameLabel.setText("User Name");

                paswordLabel.setFont(new Font("Tahoma", Font.BOLD, 20)); // NOI18N
                paswordLabel.setText("Password");

                getTxtuserid().setBackground(new java.awt.Color(102, 102, 102));
                getTxtuserid().setFont(new Font("Tahoma", Font.BOLD, 20)); // NOI18N
                getTxtuserid().setForeground(new java.awt.Color(102, 102, 102));
                // txtuserid.setText("jLabel6");

                getTxtfirstname().addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                                txtfirstnameActionPerformed(evt);
                        }
                });
                getTxtfirstname().addKeyListener(new java.awt.event.KeyAdapter() {
                        public void keyReleased(java.awt.event.KeyEvent evt) {
                                txtfirstnameKeyReleased(evt);
                        }
                });

                getTxtlastname().addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                                txtlastnameActionPerformed(evt);
                        }
                });
                getTxtlastname().addKeyListener(new java.awt.event.KeyAdapter() {
                        public void keyReleased(java.awt.event.KeyEvent evt) {
                                txtlastnameKeyReleased(evt);
                        }
                });

                getAddBtn().setBackground(new java.awt.Color(0, 102, 102));
                getAddBtn().setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
                getAddBtn().setForeground(new java.awt.Color(255, 255, 255));
                getAddBtn().setText("Add");
                getAddBtn().addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                                addBtnAction(evt);
                        }
                });

                backBtn.setBackground(new java.awt.Color(0, 102, 102));
                backBtn.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
                backBtn.setForeground(new java.awt.Color(255, 255, 255));
                backBtn.setText("Back");
                backBtn.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                                backBtnAction(evt);
                        }
                });

                panel2.setBackground(new java.awt.Color(0, 102, 102));

                registerAdminLabel.setFont(new java.awt.Font("Segoe UI", 1, 36)); // NOI18N
                registerAdminLabel.setForeground(new java.awt.Color(255, 255, 255));
                registerAdminLabel.setText("REGISTER ADMIN");

                javax.swing.GroupLayout groupLayoutPanel2 = new javax.swing.GroupLayout(panel2);
                groupLayoutPanel2.setHorizontalGroup(
                                groupLayoutPanel2.createParallelGroup(Alignment.TRAILING)
                                                .addGroup(groupLayoutPanel2.createSequentialGroup()
                                                                .addContainerGap(630, Short.MAX_VALUE)
                                                                .addComponent(registerAdminLabel,
                                                                                GroupLayout.PREFERRED_SIZE, 319,
                                                                                GroupLayout.PREFERRED_SIZE)
                                                                .addGap(586)));
                groupLayoutPanel2.setVerticalGroup(
                                groupLayoutPanel2.createParallelGroup(Alignment.LEADING)
                                                .addGroup(groupLayoutPanel2.createSequentialGroup()
                                                                .addGap(26)
                                                                .addComponent(registerAdminLabel)
                                                                .addContainerGap(35, Short.MAX_VALUE)));
                panel2.setLayout(groupLayoutPanel2);

                warningFirstName.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
                warningFirstName.setForeground(new java.awt.Color(255, 0, 0));
                // flab.setText("jLabel8");

                warningLastName.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
                warningLastName.setForeground(new java.awt.Color(255, 0, 0));

                JPanel panel7 = new JPanel();
                panel7.setBackground(new Color(0, 102, 102));

                JLabel adjustBackgroundLabel1 = new JLabel();

                JLabel numberLabel = new JLabel();
                numberLabel.setText("+51 789543");
                numberLabel.setForeground(Color.WHITE);
                numberLabel.setFont(new Font("Segoe UI Light", Font.BOLD, 14));

                JLabel contactUsLabel = new JLabel();
                contactUsLabel.setToolTipText("");
                contactUsLabel.setText("CONTACT US");
                contactUsLabel.setForeground(Color.WHITE);
                contactUsLabel.setFont(new Font("Segoe UI", Font.BOLD, 20));

                JLabel adjustBackgroundLabel2 = new JLabel();

                JLabel adjustBackgroundLabel6 = new JLabel();

                JLabel adjustBackgroundLabel3 = new JLabel();

                JLabel adjustBackgroundLabel4 = new JLabel();

                JLabel adjustBackgroundLabel5 = new JLabel();

                JLabel jskyIcon = new JLabel();
                jskyIcon.setIcon(new ImageIcon(userCreation.class
                                .getResource("/out/production/airlaib/Screenshot 2022-07-06 000042.png")));
                GroupLayout groupLayoutPanel7 = new GroupLayout(panel7);
                groupLayoutPanel7.setHorizontalGroup(
                                groupLayoutPanel7.createParallelGroup(Alignment.LEADING)
                                                .addGroup(groupLayoutPanel7.createSequentialGroup()
                                                                .addGap(36)
                                                                .addGroup(groupLayoutPanel7
                                                                                .createParallelGroup(Alignment.LEADING)
                                                                                .addComponent(contactUsLabel,
                                                                                                GroupLayout.DEFAULT_SIZE,
                                                                                                760, Short.MAX_VALUE)
                                                                                .addComponent(numberLabel))
                                                                .addPreferredGap(ComponentPlacement.RELATED)
                                                                .addGroup(groupLayoutPanel7
                                                                                .createParallelGroup(Alignment.TRAILING)
                                                                                .addComponent(adjustBackgroundLabel1,
                                                                                                GroupLayout.PREFERRED_SIZE,
                                                                                                171,
                                                                                                GroupLayout.PREFERRED_SIZE)
                                                                                .addComponent(adjustBackgroundLabel2))
                                                                .addGroup(groupLayoutPanel7
                                                                                .createParallelGroup(Alignment.LEADING,
                                                                                                false)
                                                                                .addGroup(groupLayoutPanel7
                                                                                                .createSequentialGroup()
                                                                                                .addGap(157)
                                                                                                .addGroup(groupLayoutPanel7
                                                                                                                .createParallelGroup(
                                                                                                                                Alignment.LEADING)
                                                                                                                .addGroup(groupLayoutPanel7
                                                                                                                                .createSequentialGroup()
                                                                                                                                .addGap(24)
                                                                                                                                .addComponent(adjustBackgroundLabel3)
                                                                                                                                .addPreferredGap(
                                                                                                                                                ComponentPlacement.UNRELATED)
                                                                                                                                .addComponent(adjustBackgroundLabel4)
                                                                                                                                .addGap(18)
                                                                                                                                .addComponent(adjustBackgroundLabel5))
                                                                                                                .addGroup(groupLayoutPanel7
                                                                                                                                .createSequentialGroup()
                                                                                                                                .addGap(171)
                                                                                                                                .addComponent(adjustBackgroundLabel6)))
                                                                                                .addContainerGap())
                                                                                .addGroup(Alignment.TRAILING,
                                                                                                groupLayoutPanel7
                                                                                                                .createSequentialGroup()
                                                                                                                .addPreferredGap(
                                                                                                                                ComponentPlacement.RELATED,
                                                                                                                                GroupLayout.DEFAULT_SIZE,
                                                                                                                                Short.MAX_VALUE)
                                                                                                                .addComponent(jskyIcon,
                                                                                                                                GroupLayout.PREFERRED_SIZE,
                                                                                                                                171,
                                                                                                                                GroupLayout.PREFERRED_SIZE)
                                                                                                                .addGap(56)))));
                groupLayoutPanel7.setVerticalGroup(
                                groupLayoutPanel7.createParallelGroup(Alignment.LEADING)
                                                .addGroup(groupLayoutPanel7.createSequentialGroup()
                                                                .addGroup(groupLayoutPanel7
                                                                                .createParallelGroup(Alignment.LEADING)
                                                                                .addGroup(groupLayoutPanel7
                                                                                                .createSequentialGroup()
                                                                                                .addContainerGap()
                                                                                                .addComponent(adjustBackgroundLabel2))
                                                                                .addGroup(groupLayoutPanel7
                                                                                                .createParallelGroup(
                                                                                                                Alignment.TRAILING)
                                                                                                .addComponent(adjustBackgroundLabel3)
                                                                                                .addGroup(groupLayoutPanel7
                                                                                                                .createSequentialGroup()
                                                                                                                .addComponent(adjustBackgroundLabel6)
                                                                                                                .addGap(23)
                                                                                                                .addGroup(groupLayoutPanel7
                                                                                                                                .createParallelGroup(
                                                                                                                                                Alignment.TRAILING)
                                                                                                                                .addComponent(adjustBackgroundLabel4)
                                                                                                                                .addComponent(adjustBackgroundLabel5)))))
                                                                .addGap(18)
                                                                .addGroup(groupLayoutPanel7
                                                                                .createParallelGroup(Alignment.LEADING)
                                                                                .addComponent(adjustBackgroundLabel1,
                                                                                                GroupLayout.PREFERRED_SIZE,
                                                                                                55,
                                                                                                GroupLayout.PREFERRED_SIZE)
                                                                                .addGroup(groupLayoutPanel7
                                                                                                .createSequentialGroup()
                                                                                                .addComponent(contactUsLabel)
                                                                                                .addPreferredGap(
                                                                                                                ComponentPlacement.RELATED)
                                                                                                .addComponent(numberLabel))
                                                                                .addComponent(jskyIcon,
                                                                                                GroupLayout.PREFERRED_SIZE,
                                                                                                55,
                                                                                                GroupLayout.PREFERRED_SIZE))
                                                                .addContainerGap(34, Short.MAX_VALUE)));
                panel7.setLayout(groupLayoutPanel7);
                // llab.setText("jLabel8");

                javax.swing.GroupLayout groupLayoutPanel1 = new javax.swing.GroupLayout(panel1);
                groupLayoutPanel1.setHorizontalGroup(
                                groupLayoutPanel1.createParallelGroup(Alignment.LEADING)
                                                .addGroup(groupLayoutPanel1.createSequentialGroup()
                                                                .addComponent(panel2, GroupLayout.PREFERRED_SIZE, 1535,
                                                                                GroupLayout.PREFERRED_SIZE)
                                                                .addContainerGap(19, Short.MAX_VALUE))
                                                .addGroup(groupLayoutPanel1.createSequentialGroup()
                                                                .addGap(584)
                                                                .addGroup(groupLayoutPanel1
                                                                                .createParallelGroup(Alignment.LEADING)
                                                                                .addGroup(groupLayoutPanel1
                                                                                                .createSequentialGroup()
                                                                                                .addGroup(groupLayoutPanel1
                                                                                                                .createParallelGroup(
                                                                                                                                Alignment.LEADING)
                                                                                                                .addGroup(groupLayoutPanel1
                                                                                                                                .createSequentialGroup()
                                                                                                                                .addPreferredGap(
                                                                                                                                                ComponentPlacement.RELATED,
                                                                                                                                                GroupLayout.DEFAULT_SIZE,
                                                                                                                                                Short.MAX_VALUE)
                                                                                                                                .addGroup(groupLayoutPanel1
                                                                                                                                                .createParallelGroup(
                                                                                                                                                                Alignment.TRAILING)
                                                                                                                                                .addGroup(groupLayoutPanel1
                                                                                                                                                                .createSequentialGroup()
                                                                                                                                                                .addComponent(userIdLabel)
                                                                                                                                                                .addPreferredGap(
                                                                                                                                                                                ComponentPlacement.RELATED))
                                                                                                                                                .addGroup(groupLayoutPanel1
                                                                                                                                                                .createParallelGroup(
                                                                                                                                                                                Alignment.LEADING)
                                                                                                                                                                .addComponent(paswordLabel)
                                                                                                                                                                .addComponent(userNameLabel))))
                                                                                                                .addGroup(groupLayoutPanel1
                                                                                                                                .createSequentialGroup()
                                                                                                                                .addComponent(LastNameLabel)
                                                                                                                                .addPreferredGap(
                                                                                                                                                ComponentPlacement.RELATED)))
                                                                                                .addGroup(groupLayoutPanel1
                                                                                                                .createParallelGroup(
                                                                                                                                Alignment.LEADING)
                                                                                                                .addGroup(groupLayoutPanel1
                                                                                                                                .createSequentialGroup()
                                                                                                                                .addGap(60)
                                                                                                                                .addGroup(groupLayoutPanel1
                                                                                                                                                .createParallelGroup(
                                                                                                                                                                Alignment.TRAILING)
                                                                                                                                                .addGroup(groupLayoutPanel1
                                                                                                                                                                .createSequentialGroup()
                                                                                                                                                                .addGroup(groupLayoutPanel1
                                                                                                                                                                                .createParallelGroup(
                                                                                                                                                                                                Alignment.LEADING)
                                                                                                                                                                                .addComponent(getTxtusername(),
                                                                                                                                                                                                GroupLayout.PREFERRED_SIZE,
                                                                                                                                                                                                140,
                                                                                                                                                                                                GroupLayout.PREFERRED_SIZE)
                                                                                                                                                                                .addComponent(getTxtfirstname(),
                                                                                                                                                                                                GroupLayout.PREFERRED_SIZE,
                                                                                                                                                                                                140,
                                                                                                                                                                                                GroupLayout.PREFERRED_SIZE)
                                                                                                                                                                                .addComponent(getTxtpassword(),
                                                                                                                                                                                                GroupLayout.PREFERRED_SIZE,
                                                                                                                                                                                                140,
                                                                                                                                                                                                GroupLayout.PREFERRED_SIZE))
                                                                                                                                                                .addPreferredGap(
                                                                                                                                                                                ComponentPlacement.RELATED))
                                                                                                                                                .addComponent(getTxtlastname(),
                                                                                                                                                                GroupLayout.PREFERRED_SIZE,
                                                                                                                                                                140,
                                                                                                                                                                GroupLayout.PREFERRED_SIZE))
                                                                                                                                .addGap(18)
                                                                                                                                .addGroup(groupLayoutPanel1
                                                                                                                                                .createParallelGroup(
                                                                                                                                                                Alignment.LEADING)
                                                                                                                                                .addComponent(warningLastName,
                                                                                                                                                                GroupLayout.PREFERRED_SIZE,
                                                                                                                                                                145,
                                                                                                                                                                GroupLayout.PREFERRED_SIZE)
                                                                                                                                                .addComponent(warningFirstName,
                                                                                                                                                                GroupLayout.PREFERRED_SIZE,
                                                                                                                                                                145,
                                                                                                                                                                GroupLayout.PREFERRED_SIZE)))
                                                                                                                .addGroup(groupLayoutPanel1
                                                                                                                                .createSequentialGroup()
                                                                                                                                .addGap(88)
                                                                                                                                .addComponent(getTxtuserid())))
                                                                                                .addContainerGap(497,
                                                                                                                Short.MAX_VALUE))
                                                                                .addGroup(groupLayoutPanel1
                                                                                                .createSequentialGroup()
                                                                                                .addComponent(firstNameLabel)
                                                                                                .addContainerGap(866,
                                                                                                                Short.MAX_VALUE))))
                                                .addGroup(groupLayoutPanel1.createSequentialGroup()
                                                                .addGap(710)
                                                                .addComponent(getAddBtn(), GroupLayout.PREFERRED_SIZE,
                                                                                109,
                                                                                GroupLayout.PREFERRED_SIZE)
                                                                .addContainerGap(735, Short.MAX_VALUE))
                                                .addGroup(groupLayoutPanel1.createSequentialGroup()
                                                                .addGap(39)
                                                                .addComponent(backBtn, GroupLayout.PREFERRED_SIZE, 107,
                                                                                GroupLayout.PREFERRED_SIZE)
                                                                .addContainerGap(1408, Short.MAX_VALUE))
                                                .addGroup(groupLayoutPanel1.createSequentialGroup()
                                                                .addComponent(panel7, GroupLayout.PREFERRED_SIZE, 1546,
                                                                                GroupLayout.PREFERRED_SIZE)
                                                                .addContainerGap(GroupLayout.DEFAULT_SIZE,
                                                                                Short.MAX_VALUE)));
                groupLayoutPanel1.setVerticalGroup(
                                groupLayoutPanel1.createParallelGroup(Alignment.LEADING)
                                                .addGroup(groupLayoutPanel1.createSequentialGroup()
                                                                .addComponent(panel2, GroupLayout.PREFERRED_SIZE, 109,
                                                                                GroupLayout.PREFERRED_SIZE)
                                                                .addGap(18)
                                                                .addComponent(backBtn, GroupLayout.PREFERRED_SIZE, 44,
                                                                                GroupLayout.PREFERRED_SIZE)
                                                                .addGap(53)
                                                                .addGroup(groupLayoutPanel1
                                                                                .createParallelGroup(Alignment.BASELINE)
                                                                                .addComponent(getTxtuserid())
                                                                                .addComponent(userIdLabel))
                                                                .addGap(53)
                                                                .addGroup(groupLayoutPanel1
                                                                                .createParallelGroup(Alignment.BASELINE)
                                                                                .addComponent(firstNameLabel)
                                                                                .addComponent(getTxtfirstname(),
                                                                                                GroupLayout.PREFERRED_SIZE,
                                                                                                GroupLayout.DEFAULT_SIZE,
                                                                                                GroupLayout.PREFERRED_SIZE)
                                                                                .addComponent(warningFirstName,
                                                                                                GroupLayout.PREFERRED_SIZE,
                                                                                                22,
                                                                                                GroupLayout.PREFERRED_SIZE))
                                                                .addGap(23)
                                                                .addGroup(groupLayoutPanel1
                                                                                .createParallelGroup(Alignment.BASELINE)
                                                                                .addComponent(LastNameLabel)
                                                                                .addComponent(getTxtlastname(),
                                                                                                GroupLayout.PREFERRED_SIZE,
                                                                                                GroupLayout.DEFAULT_SIZE,
                                                                                                GroupLayout.PREFERRED_SIZE)
                                                                                .addComponent(warningLastName,
                                                                                                GroupLayout.PREFERRED_SIZE,
                                                                                                22,
                                                                                                GroupLayout.PREFERRED_SIZE))
                                                                .addGap(18)
                                                                .addGroup(groupLayoutPanel1
                                                                                .createParallelGroup(Alignment.BASELINE)
                                                                                .addComponent(userNameLabel)
                                                                                .addComponent(getTxtusername(),
                                                                                                GroupLayout.PREFERRED_SIZE,
                                                                                                GroupLayout.DEFAULT_SIZE,
                                                                                                GroupLayout.PREFERRED_SIZE))
                                                                .addGap(18)
                                                                .addGroup(groupLayoutPanel1
                                                                                .createParallelGroup(Alignment.BASELINE)
                                                                                .addComponent(paswordLabel)
                                                                                .addComponent(getTxtpassword(),
                                                                                                GroupLayout.PREFERRED_SIZE,
                                                                                                22,
                                                                                                GroupLayout.PREFERRED_SIZE))
                                                                .addGap(48)
                                                                .addComponent(getAddBtn(), GroupLayout.PREFERRED_SIZE,
                                                                                48,
                                                                                GroupLayout.PREFERRED_SIZE)
                                                                .addPreferredGap(ComponentPlacement.RELATED, 113,
                                                                                Short.MAX_VALUE)
                                                                .addComponent(panel7, GroupLayout.PREFERRED_SIZE, 130,
                                                                                GroupLayout.PREFERRED_SIZE)));
                panel1.setLayout(groupLayoutPanel1);

                javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
                layout.setHorizontalGroup(
                                layout.createParallelGroup(Alignment.LEADING)
                                                .addGroup(layout.createSequentialGroup()
                                                                .addComponent(panel1, GroupLayout.PREFERRED_SIZE, 1554,
                                                                                GroupLayout.PREFERRED_SIZE)
                                                                .addContainerGap(GroupLayout.DEFAULT_SIZE,
                                                                                Short.MAX_VALUE)));
                layout.setVerticalGroup(
                                layout.createParallelGroup(Alignment.LEADING)
                                                .addGroup(layout.createSequentialGroup()
                                                                .addComponent(panel1, GroupLayout.PREFERRED_SIZE, 810,
                                                                                GroupLayout.PREFERRED_SIZE)
                                                                .addContainerGap(GroupLayout.DEFAULT_SIZE,
                                                                                Short.MAX_VALUE)));
                getContentPane().setLayout(layout);

                pack();
        }// </editor-fold>//GEN-END:initComponents

        /**
         * @return the warningLastName
         */
        public javax.swing.JLabel getWarningLastName() {
                return warningLastName;
        }

        /**
         * @param warningLastName the warningLastName to set
         */
        public void setWarningLastName(javax.swing.JLabel warningLastName) {
                this.warningLastName = warningLastName;
        }

        protected void txtlastnameActionPerformed(ActionEvent evt) {
                // TODO Auto-generated method stub

        }

        protected void txtfirstnameActionPerformed(ActionEvent evt) {
                // TODO Auto-generated method stub

        }

        /**
         * Handles the event when the "Create User" button is clicked.
         * Validates user input and inserts user details into the database.
         * Displays appropriate messages based on the success or failure of the
         * operation.
         *
         * @param evt The ActionEvent representing the button click event for Add
         *            Button.
         * @throws ClassNotFoundException if the MySQL JDBC driver class is not found.
         * @throws SQLException           if a database access error occurs.
         */
        public void addBtnAction(java.awt.event.ActionEvent evt) {// GEN-FIRST:event_addBtnAction
                // TODO add your handling code here:

                String id = getTxtuserid().getText();
                String firstname = getTxtfirstname().getText();
                String lastname = getTxtlastname().getText();
                String username = getTxtusername().getText();
                String password = getTxtpassword().getText();

                if (firstname.equals("") || lastname.equals("") || username.equals("") || password.equals("")) {
                        JOptionPane.showMessageDialog(this, "Please enter the missing fields");
                }

                else if (!firstname.matches("^[A-Za-z]{3,29}$") || !lastname.matches("^[A-Za-z]{3,29}$")) {
                        JOptionPane.showMessageDialog(this, "Please correct Name");

                } else if (!isStrongPassword(password)) {
                        JOptionPane.showMessageDialog(this,
                                        "Password is not strong. Please use a stronger password. Password should have atleast 8 letters."
                                                        + " Use Atleast One Capital Letter, One Special Character, And a  Number");
                } else {
                        try {

                                con = connectionManager.getConnection();
                                pst = con
                                                .prepareStatement(
                                                                "insert into user(id,firstname,lastname,username,password)values(?,?,?,?,?)");

                                pst.setString(1, id);
                                pst.setString(2, firstname);
                                pst.setString(3, lastname);
                                pst.setString(4, username);
                                pst.setString(5, password);

                                pst.executeUpdate();

                                JOptionPane.showMessageDialog(null, "User Created");
                                getAddBtn().setEnabled(false);
                        } catch (SQLException ex) {
                                Logger.getLogger(addflight.class.getName()).log(Level.SEVERE, null, ex);
                        } finally {
                                try {
                                        // Close the connection and other resources
                                        if (pst != null) {
                                                pst.close();
                                        }
                                        if (con != null) {
                                                con.close();
                                        }
                                } catch (SQLException ex) {
                                        ex.printStackTrace();
                                }
                        }
                }
        }// GEN-LAST:event_addBtnAction

        public void backBtnAction(java.awt.event.ActionEvent evt) {// GEN-FIRST:event_backBtnAction
                // TODO add your handling code here:
                this.dispose();
                adminDomainObj = new admindomain();
                adminDomainObj.setVisible(true);
        }// GEN-LAST:event_backBtnAction

        public void txtfirstnameKeyReleased(java.awt.event.KeyEvent evt) {// GEN-FIRST:event_txtfirstnameKeyReleased
                // TODO add your handling code here:
                String regex = "^[A-Za-z]{3,29}$";
                Pattern patt = Pattern.compile(regex);
                Matcher match = patt.matcher(getTxtfirstname().getText());
                if (!match.matches()) {
                        warningFirstName.setText("Incorrect Name entry");
                } else {
                        warningFirstName.setText(null);

                }
        }// GEN-LAST:event_txtfirstnameKeyReleased

        public void txtlastnameKeyReleased(java.awt.event.KeyEvent evt) {// GEN-FIRST:event_txtlastnameKeyReleased
                // TODO add your handling code here:
                String regex = "^[A-Za-z]{3,29}$";
                Pattern patt = Pattern.compile(regex);
                Matcher match = patt.matcher(getTxtlastname().getText());
                if (!match.matches()) {
                        warningLastName.setText("Incorrect Name entry");
                } else {
                        warningLastName.setText(null);

                }
        }// GEN-LAST:event_txtlastnameKeyReleased

        /**
         * Auto-generates a unique user ID based on the existing IDs in the database.
         * The generated ID follows the pattern "UOxxx", where xxx is a three-digit
         * number.
         *
         * @throws ClassNotFoundException if the MySQL JDBC driver class is not found.
         * @throws SQLException           if a database access error occurs.
         */
        public void autoID() {
                try {
                        Class.forName("com.mysql.cj.jdbc.Driver");
                        con = DriverManager.getConnection("jdbc:mysql://localhost/airline", "root", "1234");
                        Statement s = con.createStatement();
                        ResultSet rs = s.executeQuery("select MAX(id) from user");
                        rs.next();
                        rs.getString("MAX(id)");
                        if (rs.getString("MAX(id)") == null) {
                                getTxtuserid().setText("UO001");
                        } else {
                                long id = Long.parseLong(
                                                rs.getString("MAX(id)").substring(2, rs.getString("MAX(id)").length()));
                                id++;
                                getTxtuserid().setText("UO" + String.format("%03d", id));
                        }

                } catch (ClassNotFoundException ex) {
                        Logger.getLogger(addCustomer.class.getName()).log(Level.SEVERE, null, ex);
                } catch (SQLException ex) {
                        Logger.getLogger(addCustomer.class.getName()).log(Level.SEVERE, null, ex);
                }
        }

        /**
         * Checks whether the given password is strong or weak.
         *
         * @param password The password to be checked.
         * @return True if the password is strong, false if weak.
         */
        public boolean isStrongPassword(String password) {
                // Add your criteria for a strong password (e.g., minimum length, mix of
                // uppercase, lowercase, digits, special characters)
                return password.matches("^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$");
        }

        /**
         * @return the txtuserid
         */
        public javax.swing.JLabel getTxtuserid() {
                return txtuserid;
        }

        /**
         * @param txtuserid the txtuserid to set
         */
        public void setTxtuserid(javax.swing.JLabel txtuserid) {
                this.txtuserid = txtuserid;
        }

        /**
         * @return the txtfirstname
         */
        public javax.swing.JTextField getTxtfirstname() {
                return txtfirstname;
        }

        /**
         * @param txtfirstname the txtfirstname to set
         */
        public void setTxtfirstname(javax.swing.JTextField txtfirstname) {
                this.txtfirstname = txtfirstname;
        }

        /**
         * @return the txtlastname
         */
        public javax.swing.JTextField getTxtlastname() {
                return txtlastname;
        }

        /**
         * @param txtlastname the txtlastname to set
         */
        public void setTxtlastname(javax.swing.JTextField txtlastname) {
                this.txtlastname = txtlastname;
        }

        /**
         * @return the txtusername
         */
        public javax.swing.JTextField getTxtusername() {
                return txtusername;
        }

        /**
         * @param txtusername the txtusername to set
         */
        public void setTxtusername(javax.swing.JTextField txtusername) {
                this.txtusername = txtusername;
        }

        /**
         * @return the txtpassword
         */
        public javax.swing.JPasswordField getTxtpassword() {
                return txtpassword;
        }

        /**
         * @param txtpassword the txtpassword to set
         */
        public void setTxtpassword(javax.swing.JPasswordField txtpassword) {
                this.txtpassword = txtpassword;
        }

        // Variables declaration - do not modify//GEN-BEGIN:variables
        private javax.swing.JLabel warningFirstName;

        /**
         * @return the warningFirstName
         */
        public javax.swing.JLabel getWarningFirstName() {
                return warningFirstName;
        }

        /**
         * @param warningFirstName the warningFirstName to set
         */
        public void setWarningFirstName(javax.swing.JLabel warningFirstName) {
                this.warningFirstName = warningFirstName;
        }

        private javax.swing.JButton addBtn;
        private javax.swing.JButton backBtn;
        private javax.swing.JLabel userIdLabel;
        private javax.swing.JLabel firstNameLabel;
        private javax.swing.JLabel LastNameLabel;
        private javax.swing.JLabel userNameLabel;
        private javax.swing.JLabel paswordLabel;
        private javax.swing.JLabel registerAdminLabel;
        private javax.swing.JPanel panel1;
        private javax.swing.JPanel panel2;
        private javax.swing.JLabel warningLastName;
        private javax.swing.JTextField txtfirstname;
        private javax.swing.JTextField txtlastname;
        private javax.swing.JPasswordField txtpassword;
        private javax.swing.JLabel txtuserid;
        private javax.swing.JTextField txtusername;
        private admindomain adminDomainObj;

        /**
         * @return the adminDomainObj
         */
        public admindomain getAdminDomainObj() {
                return adminDomainObj;
        }

        /**
         * @param adminDomainObj the adminDomainObj to set
         */
        public void setAdminDomainObj(admindomain adminDomainObj) {
                this.adminDomainObj = adminDomainObj;
        }

        public void setConnection(Connection mockConnection) throws SQLException {
                mockConnection = connectionManager.getConnection();

        }

        /**
         * @return the addBtn
         */
        public javax.swing.JButton getAddBtn() {
                return addBtn;
        }

        /**
         * @param addBtn the addBtn to set
         */
        public void setAddBtn(javax.swing.JButton addBtn) {
                this.addBtn = addBtn;
        }
}
